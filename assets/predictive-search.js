class PredictiveSearch extends HTMLElement{constructor(){super(),this.input=this.querySelector('input[type="search"]'),this.predictiveSearchResults=this.querySelector("[data-predictive-search]"),this.setupEventListeners()}setupEventListeners(){this.querySelector("form.search").addEventListener("submit",this.onFormSubmit.bind(this)),this.addEventListener("input",this.onInput.bind(this))}getQuery(){return this.input.value.trim()}onFormSubmit(e){var t;1<=this.getQuery().length&&(t=this.input.value.trim(),window.location.href="/search?q="+t),e.preventDefault()}onInput(e){"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault(),13==e.keyCode?(e.preventDefault(),e=this.input.value.trim(),window.location.href="/search?q="+e):this.fetchSearchResults(this.getQuery())}}customElements.define("predictive-search",PredictiveSearch);